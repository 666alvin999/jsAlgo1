var y=()=>{const L=new WebSocket(`ws://${location.host}`);L.onopen=()=>{setInterval(()=>L.send("Hello mon copaing"),5000)},L.onmessage=(M)=>{if(M.data==="reload")location.reload()}},_=y;var U=document.querySelector("#sudokuCanvas"),B=U.getContext("2d"),$=U.width,p=U.height,A=Math.round(Math.min($,p)/9),I=[],O=[],E=null,F=null;for(let L=0;L<9;L++){I.push([]),O.push([]);for(let M=0;M<9;M++)I[L].push([1,2,3,4,5,6,7,8,9]),O[L].push(null)}U.addEventListener("mousemove",(L)=>{const M=Math.min(Math.floor(L.offsetX/A),8),R=Math.min(Math.floor(L.offsetY/A),8);if(E!==M||F!==R){W(),E=M,F=R;for(let q=0;q<9;q++)J(q,F,A,"grey","#9d9300"),J(E,q,A,"grey","#9d9300");for(let q=Math.floor(E/3)*3;q<Math.floor(E/3)*3+3;q++)for(let H=Math.floor(F/3)*3;H<Math.floor(F/3)*3+3;H++)J(q,H,A,"grey","#c2b500");J(E,F,A,"yellow","yellow"),G()}});U.addEventListener("mouseout",(L)=>{W(),E=null,F=null});window.addEventListener("keypress",(L)=>{const M=parseInt(L.key);if(E!==null&&F!==null&&!isNaN(M)&&M!==0)Y(E,F,M.toString()),X(E,F,M)});var X=(L,M,R)=>{if(I[M][L].includes(R))I[M][L].splice(I[M][L].indexOf(R),1);else I[M][L].push(R),I[M][L].sort();console.log(I[M][L])},Y=(L,M,R)=>{const q=parseInt(R);if(O[M][L]!==q)J(L,M,A,"grey","yellow"),B.fillStyle="#000",B.font="32px Arial",B.textBaseline="middle",B.textAlign="center",O[M][L]=q,B.fillText(R,L*A+A/2,M*A+A/2);else O[M][L]=null;console.log(O[M][L])},D=()=>{B.fillStyle="#999",B.fillRect(0,0,$,p)},d=(L,M,R)=>{const q=R,H=Math.max(A-2,Math.floor(A*0.8)),Q=Math.floor(H/3),T=Math.max(1,Math.floor(A*0.1)),f=L*A+T,g=M*A+T;for(let K=1;K<=9;K++){const Z=q.includes(K)?K:null,h=(K-1)%3,N=Math.floor((K-1)/3),V=f+Q*h,b=g+Q*N;B.fillText(Z?Z.toString():"",V,b)}},G=()=>{B.fillStyle="#000",B.font="16px Arial",B.textBaseline="top",B.textAlign="start";for(let L=0;L<10;L++)for(let M=0;M<10;M++)d(L,M,[1,2,3,4,5,6,7,8,9])},J=(L,M,R,q,H)=>{const Q=L*R,T=M*R;if(H)B.fillStyle=H,B.fillRect(Q,T,R,R);B.strokeStyle=q,B.strokeRect(Q,T,R,R)},x=(L,M)=>{for(let R=0;R<3;R++)for(let q=0;q<3;q++)J(R+3*L,q+3*M,A,"grey");J(L,M,A*3,"black")},W=()=>{D();for(let L=0;L<3;L++)for(let M=0;M<3;M++)x(L,M);G()};_();W();
